namespace = ascended_technologies
# Becoming an Ascended Empire
country_event = {
	id = ascended_technologies.1
	title = ascended_technologies.1.name
	picture = GFX_evt_fallen_empire_awakes
	show_sound = event_celebration
	location = from
	desc = {
		text = "ascended_technologies.1.desc"
	}
	is_triggered_only = yes
	option = {
		name = ascended_technologies.1.a
		trigger = {
			is_ai = no
			NOR = {
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_machine_terminator
				has_ascension_perk = ap_become_the_crisis
			}
		}
		set_country_flag = ascended_empire
		begin_event_chain = {
			event_chain = "ascended_technologies_chain"
			target = ROOT
		}
		hidden_effect = {
			enable_doa_ascension_projects = yes
		}
	}
	option = {
		name = ascended_technologies.1.b
		trigger = {
			is_ai = yes
		}
		set_country_flag = ascended_empire
		country_event = {
			id = ascended_technologies.101
		}
		country_event = {
			id = ascended_technologies.102
		}
		country_event = {
			id = ascended_technologies.103
		}
		country_event = {
			id = ascended_technologies.104
		}
		country_event = {
			id = ascended_technologies.105
		}
		country_event = {
			id = ascended_technologies.106
		}
		country_event = {
			id = ascended_technologies.107
		}
		if = {
			limit = {
				NOR = {
					has_valid_civic = civic_inwards_perfection
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_barbaric_despoilers
					has_valid_civic = civic_hive_devouring_swarm
					has_valid_civic = civic_machine_servitor
					has_valid_civic = civic_machine_terminator
					has_valid_civic = civic_machine_assimilator
					has_valid_civic = civic_criminal_heritage
				}
			}
			change_government = {
				civics = random
			}
		}
		every_country = {
			# Notify Players
			limit = {
				NOT = {
					is_same_value = root
				}
				is_ai = no
			}
			country_event = {
				id = ascended_technologies.2
			}
		}
	}
	option = {
		name = ascended_technologies.1.c
		trigger = {
			is_ai = no
			has_valid_civic = civic_fanatic_purifiers
		}
		set_country_flag = ascended_empire
		begin_event_chain = {
			event_chain = "ascended_technologies_chain"
			target = ROOT
		}
		hidden_effect = {
			enable_doa_ascension_projects = yes
		}
	}
	option = {
		name = ascended_technologies.1.d
		trigger = {
			is_ai = no
			has_valid_civic = civic_hive_devouring_swarm
		}
		set_country_flag = ascended_empire
		begin_event_chain = {
			event_chain = "ascended_technologies_chain"
			target = ROOT
		}
		hidden_effect = {
			enable_doa_ascension_projects = yes
		}
	}
	option = {
		name = ascended_technologies.1.e
		trigger = {
			is_ai = no
			has_valid_civic = civic_machine_terminator
		}
		set_country_flag = ascended_empire
		begin_event_chain = {
			event_chain = "ascended_technologies_chain"
			target = ROOT
		}
		hidden_effect = {
			enable_doa_ascension_projects = yes
		}
	}
	option = {
		name = ascended_technologies.1.f
		trigger = {
			is_ai = no
			has_ascension_perk = ap_become_the_crisis
		}
		set_country_flag = ascended_empire
		begin_event_chain = {
			event_chain = "ascended_technologies_chain"
			target = ROOT
		}
		hidden_effect = {
			enable_doa_ascension_projects = yes
		}
	}
}

# Ascended Technologies 4 (FE Buildings) Completed
country_event = {
	id = ascended_technologies.104
	title = ascended_technologies.104.name
	desc = ascended_technologies.104.desc
	picture = GFX_evt_physics_research
	show_sound = event_administrative_work
	location = from
	is_triggered_only = yes
	immediate = {
		set_country_flag = ascended_technologies_4_completed
	}
	option = {
		name = ascended_technologies.104.a
		give_technology = {
			tech = tech_dm_production_core
		}
	}
}
